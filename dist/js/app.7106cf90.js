(function(t){function e(e){for(var o,i,u=e[0],l=e[1],s=e[2],d=0,m=[];d<u.length;d++)i=u[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&m.push(r[i][0]),r[i]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(t[o]=l[o]);c&&c(e);while(m.length)m.shift()();return a.push.apply(a,s||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],o=!0,u=1;u<n.length;u++){var l=n[u];0!==r[l]&&(o=!1)}o&&(a.splice(e--,1),t=i(i.s=n[0]))}return t}var o={},r={app:0},a=[];function i(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=o,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var s=0;s<u.length;s++)e(u[s]);var c=l;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var o=n("85ec"),r=n.n(o);r.a},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),r=n("ee98"),a=n.n(r),i=n("5f5b"),u=n("b1e0"),l=(n("ab8b"),n("2dd8"),n("049c")),s=n.n(l),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("HelloWorld",{attrs:{msg:"Welcome to Your Vue.js App"}})],1)},d=[],m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"w-50 ml-5"},[n("TokenComponent",{attrs:{"has-token":t.token.hasToken},on:{setToken:t.setToken,getToken:t.getToken}}),t.token.hasToken?n("VolumeOrder",{attrs:{token:t.token.token},on:{getToken:t.getToken}}):t._e(),n("notifications",{attrs:{group:"foo"}})],1)},p=[],f=(n("99af"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.hasToken?t._e():n("b-form",{staticClass:"ml-5 mt-5 mr-5 mb-5"},[n("b-form-group",{attrs:{id:"input-group-1",label:"클라이언트 ID","label-for":"input-1"}},[n("b-form-input",{attrs:{id:"input-1",type:"text",placeholder:"Enter Client Id"},model:{value:t.form.client_id,callback:function(e){t.$set(t.form,"client_id",e)},expression:"form.client_id"}})],1),n("b-form-group",{attrs:{id:"input-group-2",label:"클라이언트 key","label-for":"input-2"}},[n("b-form-input",{attrs:{id:"input-2",type:"password",placeholder:"Enter Client Key"},model:{value:t.form.client_key,callback:function(e){t.$set(t.form,"client_key",e)},expression:"form.client_key"}})],1),n("b-button",{on:{click:t.getToken}},[t._v(" getToken ")])],1)}),_=[],h={name:"Token",data:function(){return{form:{client_id:"",client_key:""}}},props:{hasToken:{type:Boolean,default:!1}},methods:{getToken:function(){this.$emit("setToken",this.form.client_id,this.form.client_key),this.$emit("getToken")}}},b=h,k=n("2877"),g=Object(k["a"])(b,f,_,!1,null,"2936006e",null),v=g.exports,y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-card",{attrs:{"bg-variant":"light",title:"자동 거래"}},[n("b-form-group",{attrs:{id:"volumn-order-1",label:"1회 최대 코인 개수","label-for":"volumn-order-input-1","label-cols-sm":"4",description:"최대 코인 개수를 입력해주세요."}},[n("b-form-input",{attrs:{id:"volumn-order-input-1",type:"text",placeholder:"Enter Maximum amount",size:"lg"},model:{value:t.volumn_order.max_amount,callback:function(e){t.$set(t.volumn_order,"max_amount",e)},expression:"volumn_order.max_amount"}})],1),n("b-form-group",{attrs:{id:"volumn-order-2",label:"1회 최소 코인 개수","label-for":"volumn-order-input-2","label-cols-sm":"4",description:"최소 코인 개수는 자동으로 입력 됩니다."}},[n("b-form-input",{attrs:{id:"volumn-order-input-2",type:"text",placeholder:"Enter Minimum amount",size:"lg"},model:{value:t.volumn_order.min_amount,callback:function(e){t.$set(t.volumn_order,"min_amount",e)},expression:"volumn_order.min_amount"}})],1),n("b-button-group",{attrs:{size:"lg"}},[n("b-button",{attrs:{variant:"primary"},on:{click:t.onStartVolume}},[t._v("시작")]),n("b-button",{attrs:{variant:"danger"},on:{click:t.onStopVolume}},[t._v("종료")])],1)],1),t._v(" > ")],1)},T=[],x=(n("d81d"),n("b680"),n("d3b7"),n("25f0"),n("bc3a")),w=n.n(x),O=n("2ef0"),S=n.n(O),j={name:"VolumeOrder",props:{token:{type:String,default:""}},data:function(){return{volumn_order:{max_amount:0,min_amount:0},info_data:{},sell_order:{market_id:"PB-KRW",type:"limit",side:"sell",time_in_force:"gtc",limit_price:"",cost:"",quantity:"",client_order_id:""},buy_order:{market_id:"PB-KRW",type:"limit",side:"buy",time_in_force:"gtc",limit_price:"",cost:"",quantity:"",client_order_id:""},polling:null,polling_token:null}},methods:{onStartVolume:function(){var t=this;this.polling=setInterval((function(){t.getOrderBook()}),3e3),this.polling_token=setInterval((function(){t.$emit("getToken")}),6e4)},onStopVolume:function(){clearInterval(this.polling),clearInterval(this.polling_token)},setOrder:function(){var t=this;w.a.post("/v1/new_order",S.a.omitBy(t.sell_order,S.a.isEmpty),{headers:{"Content-Type":"application/json",Authorization:"Bearer "+t.token}}).then((function(e){t.$notify({duration:3e3,group:"foo",title:"success sell! - "+t.getNow(),text:"StatusText : "+e.statusText+"\nStatus : "+e.status})})).catch((function(e){e.response&&t.$notify({duration:3e3,group:"foo",title:"sell order fail! - "+t.getNow(),text:"ERROR : "+e.response.data.errorCode+"\nStatus : "+e.response.status})})),w.a.post("/v1/new_order",S.a.omitBy(t.buy_order,S.a.isEmpty),{headers:{"Content-Type":"application/json",Authorization:"Bearer "+t.token}}).then((function(e){t.$notify({duration:3e3,group:"foo",title:"success buy! - "+t.getNow(),text:"StatusText : "+e.statusText+"\nStatus : "+e.status})})).catch((function(e){e.response&&t.$notify({duration:3e3,group:"foo",title:"buy order fail! - "+t.getNow(),text:"ERROR : "+e.response.data.errorCode+"\nStatus : "+e.response.status})}))},getOrderBook:function(){var t=this;w.a.get("/v1/order_book",{params:{market_id:"PB-KRW"}}).then((function(e){if(200===e.status){var n=e.data,o=S.a.map(S.a.groupBy(n.data,"side"),(function(t){return S.a.orderBy(t,(function(t){return parseFloat(t.price)}))}));t.getBeetweenData(o),t.setOrder()}}))},getBeetweenData:function(t){var e=S.a.last(S.a.head(t)),n=S.a.head(S.a.last(t)),o=S.a.random(S.a.toNumber(n.price),S.a.toNumber(e.price)).toFixed(2),r=S.a.toString(S.a.ceil(S.a.divide(1e3,o))),a=S.a.toNumber(this.volumn_order.max_amount)>0?this.volumn_order.max_amount:r;S.a.toNumber(this.volumn_order.max_amount)>0&&S.a.toNumber(this.volumn_order.min_amount)>0&&(a=S.a.toString(S.a.random(S.a.toNumber(this.volumn_order.min_amount),S.a.toNumber(this.volumn_order.max_amount)))),this.sell_order.limit_price=o,this.buy_order.limit_price=o,this.sell_order.quantity=a,this.buy_order.quantity=a,this.volumn_order.min_amount=r},getNow:function(){var t=new Date,e=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate(),n=t.getHours()+":"+t.getMinutes()+":"+t.getSeconds(),o=e+" "+n;return o}}},$=j,B=Object(k["a"])($,y,T,!1,null,"7b901030",null),N=B.exports,C={components:{TokenComponent:v,VolumeOrder:N},created:function(){},data:function(){return{token:{hasToken:!1,token:""},info:{id:"",key:""}}},mounted:function(){},methods:{onReset:function(t){t.preventDefault(),this.form.client_id="",this.form.client_key=""},getToken:function(){var t=this,e="Basic "+btoa("".concat(this.info.id,":").concat(this.info.key)),n=JSON.stringify({grant_type:"client_credentials"});w.a.post("/token",n,{headers:{"Content-Type":"application/json",Authorization:e}}).then((function(e){200===e.status&&(t.$notify({duration:3e3,group:"foo",title:"get token success",text:"statusText : "+e.statusText+"\nstatus : "+e.status}),t.token.hasToken=!0,t.token.token=e.data.access_token,console.log("getToken: ",t.token))}))},onClickRequestToken:function(){this.token.hasToken=!this.token.hasToken},setToken:function(t,e){this.info.id=t,this.info.key=e}}},E=C,R=Object(k["a"])(E,m,p,!1,null,null,null),P=R.exports,M={name:"App",components:{HelloWorld:P}},V=M,z=(n("034f"),Object(k["a"])(V,c,d,!1,null,null,null)),D=z.exports;o["default"].use(s.a),o["default"].config.productionTip=!1,o["default"].use(i["a"]),o["default"].use(u["a"]),o["default"].use(a.a),window.jihlee=new o["default"]({render:function(t){return t(D)}}).$mount("#app")},"85ec":function(t,e,n){}});
//# sourceMappingURL=app.7106cf90.js.map